{% extends "base.html" %}
{% block content %}
<div class="container py-5">
    <div class="text-center mb-4">
        <h2 class="fw-bold text-info">My Pets</h2>
    </div>

    {% if pets %}
    <div class="table-responsive shadow rounded p-3 bg-light">
        <table class="table table-hover align-middle text-center">
            <thead class="table-dark">
                <tr>
                    <th>Name</th>
                    <th>Breed</th>
                    <th>Age</th>
                    <th>Medical History</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for pet in pets %}
                <tr>
                    <td>{{ pet.name }}</td>
                    <td>{{ pet.breed or '-' }}</td>
                    <td>{{ pet.age or '-' }}</td>
                    <td>{{ pet.medical_history or 'None' }}</td>
                    <td>
                        <a href="{{ url_for('pet_edit', id=pet.id) }}" class="btn btn-sm btn-primary me-1 mb-1">
                            ‚úèÔ∏è Edit
                        </a>
                        <form action="{{ url_for('pet_delete', id=pet.id) }}" method="POST" style="display:inline;">
                            <button type="submit" class="btn btn-sm btn-danger mb-1"
                                onclick="return confirm('Are you sure you want to delete this pet?')">
                                üóëÔ∏è Delete
                            </button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Back to Dashboard Button -->
    <div class="text-center mt-4">
        <a href="{{ url_for('dashboard') }}" class="btn btn-info btn-lg">
            ‚Üê Back to Dashboard
        </a>
    </div>

    {% else %}
    <div class="text-center mt-5">
        <p class="fs-5">No pets found. <a href="{{ url_for('pet_new') }}" class="text-success fw-bold">Add your first pet</a>.</p>

        <!-- Back to Dashboard Button when no pets -->
        <div class="mt-4">
            <a href="{{ url_for('dashboard') }}" class="btn btn-info btn-lg">
                ‚Üê Back to Dashboard
            </a>
        </div>
    </div>
    {% endif %}
</div>

<style>
    .dashboard-container h2 {
        letter-spacing: 1px;
    }

    .table-hover tbody tr:hover {
        background-color: #e0f7fa;
        transition: background-color 0.3s ease;
    }

    /* Back to Dashboard Button Style */
    .btn-info {
        background: linear-gradient(45deg, #17a2b8, #0dcaf0);
        color: #fff;
        border: none;
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn-info:hover {
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        color: #fff;
    }
</style>
{% endblock %}
